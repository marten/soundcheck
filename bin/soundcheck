#!/usr/bin/env ruby
require 'optparse'
require 'soundcheck'

options = {}
option_parser = OptionParser.new do |opts|
  opts.banner = "Usage: soundcheck [options] [file or path]"

  opts.on("--fast", "Run fast specs only") do
    options[:fast] = true
  end

  opts.on("--trace", "Shows backtrace") do
    options[:trace] = true
  end

  opts.on("--help", "Show this info") do
    puts opts
    exit
  end
end

option_parser.parse!(ARGV)
cmd = Soundcheck.new(ARGV[0], options).command_to_run
puts cmd
exec cmd
